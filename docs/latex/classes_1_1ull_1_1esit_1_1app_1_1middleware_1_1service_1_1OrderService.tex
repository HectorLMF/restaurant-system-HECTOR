\doxysection{es.\+ull.\+esit.\+app.\+middleware.\+service.\+Order\+Service Class Reference}
\hypertarget{classes_1_1ull_1_1esit_1_1app_1_1middleware_1_1service_1_1OrderService}{}\label{classes_1_1ull_1_1esit_1_1app_1_1middleware_1_1service_1_1OrderService}\index{es.ull.esit.app.middleware.service.OrderService@{es.ull.esit.app.middleware.service.OrderService}}


Service that handles order-\/related calculations and receipt generation.  




Collaboration diagram for es.\+ull.\+esit.\+app.\+middleware.\+service.\+Order\+Service\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=261pt]{classes_1_1ull_1_1esit_1_1app_1_1middleware_1_1service_1_1OrderService__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classes_1_1ull_1_1esit_1_1app_1_1middleware_1_1model_1_1BillResult}{Bill\+Result}} \mbox{\hyperlink{classes_1_1ull_1_1esit_1_1app_1_1middleware_1_1service_1_1OrderService_a21992142e03ec7cbd2c84f7e0514f972}{calculate\+Bill}} (double items\+Total\+Sum)
\begin{DoxyCompactList}\small\item\em Calculates subtotal, VAT and total for a given items sum. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classes_1_1ull_1_1esit_1_1app_1_1middleware_1_1service_1_1OrderService_a08f32f261e78d873fa11c7ffda77dafa}{generate\+Receipt\+File}} (int receipt\+No, \mbox{\hyperlink{classes_1_1ull_1_1esit_1_1app_1_1middleware_1_1model_1_1BillResult}{Bill\+Result}} bill)  throws java.\+io.\+File\+Not\+Found\+Exception 
\begin{DoxyCompactList}\small\item\em Generates a local text file representing a receipt. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Static Private Attributes}
\begin{DoxyCompactItemize}
\item 
static final double \mbox{\hyperlink{classes_1_1ull_1_1esit_1_1app_1_1middleware_1_1service_1_1OrderService_ad6edbdceb8de31aeb21202eee74affb2}{VAT\+\_\+\+RATE}} = 0.\+15
\begin{DoxyCompactList}\small\item\em VAT rate applied to the subtotal (15\%). \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Service that handles order-\/related calculations and receipt generation. 

\begin{DoxyVerb}   Provides methods to compute totals (including VAT) and to generate
   local text files representing printed receipts.
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{OrderService_8java_source_l00011}{11}} of file \mbox{\hyperlink{OrderService_8java_source}{Order\+Service.\+java}}.



\label{doc-func-members}
\Hypertarget{classes_1_1ull_1_1esit_1_1app_1_1middleware_1_1service_1_1OrderService_doc-func-members}
\doxysubsection{Member Function Documentation}
\Hypertarget{classes_1_1ull_1_1esit_1_1app_1_1middleware_1_1service_1_1OrderService_a21992142e03ec7cbd2c84f7e0514f972}\index{es.ull.esit.app.middleware.service.OrderService@{es.ull.esit.app.middleware.service.OrderService}!calculateBill@{calculateBill}}
\index{calculateBill@{calculateBill}!es.ull.esit.app.middleware.service.OrderService@{es.ull.esit.app.middleware.service.OrderService}}
\doxysubsubsection{\texorpdfstring{calculateBill()}{calculateBill()}}
{\footnotesize\ttfamily \label{classes_1_1ull_1_1esit_1_1app_1_1middleware_1_1service_1_1OrderService_a21992142e03ec7cbd2c84f7e0514f972} 
\mbox{\hyperlink{classes_1_1ull_1_1esit_1_1app_1_1middleware_1_1model_1_1BillResult}{Bill\+Result}} es.\+ull.\+esit.\+app.\+middleware.\+service.\+Order\+Service.\+calculate\+Bill (\begin{DoxyParamCaption}\item[{double}]{items\+Total\+Sum}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Calculates subtotal, VAT and total for a given items sum. 

\begin{DoxyVerb}   The values are rounded to two decimal places.
\end{DoxyVerb}



\begin{DoxyParams}{Parameters}
{\em items\+Total\+Sum} & \mbox{[}double\mbox{]} Sum of item prices before VAT. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\mbox{[}\doxylink{classes_1_1ull_1_1esit_1_1app_1_1middleware_1_1model_1_1BillResult}{Bill\+Result}\mbox{]} Container holding subtotal, VAT and total amounts. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{OrderService_8java_source_l00024}{24}} of file \mbox{\hyperlink{OrderService_8java_source}{Order\+Service.\+java}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00024\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00025\ \ \ \ \ \textcolor{keywordtype}{double}\ vat\ =\ itemsTotalSum\ *\ VAT\_RATE;}
\DoxyCodeLine{00026\ \ \ \ \ \textcolor{keywordtype}{double}\ total\ =\ itemsTotalSum\ +\ vat;}
\DoxyCodeLine{00027\ }
\DoxyCodeLine{00028\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{new}\ BillResult(}
\DoxyCodeLine{00029\ \ \ \ \ \ \ \ \ Math.round(itemsTotalSum\ *\ 100.0)\ /\ 100.0,}
\DoxyCodeLine{00030\ \ \ \ \ \ \ \ \ Math.round(vat\ *\ 100.0)\ /\ 100.0,}
\DoxyCodeLine{00031\ \ \ \ \ \ \ \ \ Math.round(total\ *\ 100.0)\ /\ 100.0);}
\DoxyCodeLine{00032\ \ \ \}}

\end{DoxyCode}


References \mbox{\hyperlink{OrderService_8java_source_l00014}{VAT\+\_\+\+RATE}}.

\Hypertarget{classes_1_1ull_1_1esit_1_1app_1_1middleware_1_1service_1_1OrderService_a08f32f261e78d873fa11c7ffda77dafa}\index{es.ull.esit.app.middleware.service.OrderService@{es.ull.esit.app.middleware.service.OrderService}!generateReceiptFile@{generateReceiptFile}}
\index{generateReceiptFile@{generateReceiptFile}!es.ull.esit.app.middleware.service.OrderService@{es.ull.esit.app.middleware.service.OrderService}}
\doxysubsubsection{\texorpdfstring{generateReceiptFile()}{generateReceiptFile()}}
{\footnotesize\ttfamily \label{classes_1_1ull_1_1esit_1_1app_1_1middleware_1_1service_1_1OrderService_a08f32f261e78d873fa11c7ffda77dafa} 
void es.\+ull.\+esit.\+app.\+middleware.\+service.\+Order\+Service.\+generate\+Receipt\+File (\begin{DoxyParamCaption}\item[{int}]{receipt\+No}{, }\item[{\mbox{\hyperlink{classes_1_1ull_1_1esit_1_1app_1_1middleware_1_1model_1_1BillResult}{Bill\+Result}}}]{bill}{}\end{DoxyParamCaption}) throws java.\+io.\+File\+Not\+Found\+Exception\hspace{0.3cm}{\ttfamily [inline]}}



Generates a local text file representing a receipt. 

\begin{DoxyVerb}   The file is stored under a "receipts" directory created in the
   working folder. File name format is "billNo.<receiptNo>.txt".
\end{DoxyVerb}



\begin{DoxyParams}{Parameters}
{\em receipt\+No} & \mbox{[}int\mbox{]} Numeric identifier of the receipt. \\
\hline
{\em bill} & \mbox{[}\doxylink{classes_1_1ull_1_1esit_1_1app_1_1middleware_1_1model_1_1BillResult}{Bill\+Result}\mbox{]} Calculated bill result to print. \\
\hline
\end{DoxyParams}

\begin{DoxyExceptions}{Exceptions}
{\em java.\+io.\+File\+Not\+Found\+Exception} & If the receipt file cannot be created or opened. \\
\hline
\end{DoxyExceptions}


Definition at line \mbox{\hyperlink{OrderService_8java_source_l00044}{44}} of file \mbox{\hyperlink{OrderService_8java_source}{Order\+Service.\+java}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00044\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00045\ \ \ \ \ \textcolor{comment}{//\ Ensure\ the\ directory\ exists.}}
\DoxyCodeLine{00046\ \ \ \ \ \textcolor{keyword}{new}\ java.io.File(\textcolor{stringliteral}{"{}receipts"{}}).mkdirs();}
\DoxyCodeLine{00047\ }
\DoxyCodeLine{00048\ \ \ \ \ \textcolor{keywordflow}{try}\ (java.io.PrintWriter\ output\ =\ \textcolor{keyword}{new}\ java.io.PrintWriter(\textcolor{stringliteral}{"{}receipts/billNo."{}}\ +\ receiptNo\ +\ \textcolor{stringliteral}{"{}.txt"{}}))\ \{}
\DoxyCodeLine{00049\ \ \ \ \ \ \ output.println(\textcolor{stringliteral}{"{}\ Bill\ number\ is:\ "{}}\ +\ receiptNo);}
\DoxyCodeLine{00050\ \ \ \ \ \ \ output.println(\textcolor{stringliteral}{"{}=============="{}});}
\DoxyCodeLine{00051\ \ \ \ \ \ \ output.println(\textcolor{stringliteral}{"{}-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/"{}});}
\DoxyCodeLine{00052\ \ \ \ \ \ \ output.println(\textcolor{stringliteral}{"{}Subtotal\ is:\ "{}}\ +\ bill.getSubTotal()\ +\ \textcolor{stringliteral}{"{}\ SR"{}});}
\DoxyCodeLine{00053\ \ \ \ \ \ \ output.println(\textcolor{stringliteral}{"{}vat:\ "{}}\ +\ bill.getVat()\ +\ \textcolor{stringliteral}{"{}\ SR"{}});}
\DoxyCodeLine{00054\ \ \ \ \ \ \ output.println(\textcolor{stringliteral}{"{}Total\ is:\ "{}}\ +\ bill.getTotal()\ +\ \textcolor{stringliteral}{"{}\ SR"{}});}
\DoxyCodeLine{00055\ \ \ \ \ \ \ output.println();}
\DoxyCodeLine{00056\ \ \ \ \ \ \ output.println(\textcolor{stringliteral}{"{}THANK\ YOU\ FOR\ ORDERING"{}});}
\DoxyCodeLine{00057\ \ \ \ \ \}}
\DoxyCodeLine{00058\ \ \ \}}

\end{DoxyCode}


\label{doc-variable-members}
\Hypertarget{classes_1_1ull_1_1esit_1_1app_1_1middleware_1_1service_1_1OrderService_doc-variable-members}
\doxysubsection{Member Data Documentation}
\Hypertarget{classes_1_1ull_1_1esit_1_1app_1_1middleware_1_1service_1_1OrderService_ad6edbdceb8de31aeb21202eee74affb2}\index{es.ull.esit.app.middleware.service.OrderService@{es.ull.esit.app.middleware.service.OrderService}!VAT\_RATE@{VAT\_RATE}}
\index{VAT\_RATE@{VAT\_RATE}!es.ull.esit.app.middleware.service.OrderService@{es.ull.esit.app.middleware.service.OrderService}}
\doxysubsubsection{\texorpdfstring{VAT\_RATE}{VAT\_RATE}}
{\footnotesize\ttfamily \label{classes_1_1ull_1_1esit_1_1app_1_1middleware_1_1service_1_1OrderService_ad6edbdceb8de31aeb21202eee74affb2} 
final double es.\+ull.\+esit.\+app.\+middleware.\+service.\+Order\+Service.\+VAT\+\_\+\+RATE = 0.\+15\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}



VAT rate applied to the subtotal (15\%). 



Definition at line \mbox{\hyperlink{OrderService_8java_source_l00014}{14}} of file \mbox{\hyperlink{OrderService_8java_source}{Order\+Service.\+java}}.



Referenced by \mbox{\hyperlink{OrderService_8java_source_l00024}{calculate\+Bill()}}.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{OrderService_8java}{Order\+Service.\+java}}\end{DoxyCompactItemize}
